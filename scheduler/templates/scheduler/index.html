<!--Template for testing social authentication adapted from Muhd Rahiman, 2/27/2021
    https://dev.to/mdrhmn/django-google-authentication-using-django-allauth-18f8-->
{% extends "base.html" %}
{% load socialaccount %}

<html>

<head>
    <title>Google Registration</title>
</head>


<body>
    {% block content %}

    {% if user.is_authenticated %}
    <p class="text-center">Welcome, {{ user.username }} !</p>
    <p class="text-center">Here's your todo list: </p>

    <div class="text-center">

    <form action="/addTodoItem/" method = "post">{% csrf_token %}
        <input type="text" name="content">
        <input type="submit" value="+">
    </form> 

    <ul class="list-group">
    {% for i in all_items %} 
        <li class="list-group-item" style="float:left;">{{i.content}} &nbsp;
            <table>
                <tr>
                    <form action="/deleteTodoItem/{{i.id}}/" method = "post">{% csrf_token %}
                    <input class= "btn btn-outline-danger btn-sm" type="submit" value="x" style="padding: 0.1vh 1vh 0.1vh 1vh;">
                    </form>
                </tr>
            </table>
        </li>
    {% endfor %}
    </ul>

    </div>

    {% else %}
    <a href="{% provider_login_url 'google' %}">Login with Google</a>
    {% endif %}
    {% endblock %}

</body>

</html>

